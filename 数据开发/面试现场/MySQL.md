|         title         | categories |   tags   | date                |
| :-------------------: | :--------: | :------: | ------------------- |
| MySQL面试相关的知识点 |  fortest   | 数据开发 | 2019/08/13 19:21:21 |

> the life i want，there is not shortcut.

## 0x00MySQL

1，索引类型，什么是b+树，和b树的区别

2，mysql中有100万条数据，b+树对应的高度是多少？

3，mysql有几种引擎，MySQL5.X默认引擎，对应的锁机制

```
Mysql在V5.1之前默认存储引擎是MyISAM；在此之后默认存储引擎是InnoDB
//查看当前mysql默认引擎:
 show variables like '%engine%';


InnoDB实现了两种类型的行锁。

共享锁（S）：允许一个事务去读一行，阻止其他事务获得相同的数据集的排他锁。

排他锁（X）：允许获得排他锁的事务更新数据，但是组织其他事务获得相同数据集的共享锁和排他锁。

 

可以这么理解：

共享锁就是我读的时候，你可以读，但是不能写。排他锁就是我写的时候，你不能读也不能写。其实就是MyISAM的读锁和写锁，但是针对的对象不同了而已。

除此之外InnoDB还有两个表锁：

意向共享锁（IS）：表示事务准备给数据行加入共享锁，也就是说一个数据行加共享锁前必须先取得该表的IS锁

意向排他锁（IX）：类似上面，表示事务准备给数据行加入排他锁，说明事务在一个数据行加排他锁前必须先取得该表的IX锁。
```

4，现在我有一个需求，数据库中有80张表，字段也很多，有million到billion级别的数据，数据库无法做复杂查询如group by key ，distinct等，有什么解决方案

5，据库中表在变化，因为是业务表，我现在需要对他进行一个查询（类似于产生报表）但是数据量巨大，有没有什么办法

6，了解Canal吗

7，两张表 第一个表[t1,t2,t3

​                                            ......

​                                                     ]，

第二张表[d1,info

​                   d2,info

​                   .......] 对应的info聚合

8，两个表A 和B ，均有key 和value 两个字段，写一个SQL语句，将B表中的value值置成A表中相同key值对应的value值

9，你们mysql是集群还是单机，什么结构，遇到过什么难题没

10，什么情况下索引会失效，对于组合索引A B C 当使用C B字段做过滤条件时，是否会走索引

11，SQL中语句的执行顺序

```
FROM-JOIN-ON-WHERE-GROUP BY-WITH-HAVING-SELECT-DISTINCT-ORDER BY
```

12，union 和union all的区别

13，单表扫描，扫描的行数可能会超过表的总行数吗？